<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Cart - Smart Futuristic E-commerce</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Orbitron:wght@400;700;900&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Core Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.12/typed.min.js"></script>
    <script src="https://unpkg.com/splitting@1.0.6/dist/splitting.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/splitting@1.0.6/dist/splitting.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.3/echarts.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'space-navy': '#0A0E1A',
                        'electric-blue': '#00D4FF',
                        'silver-chrome': '#C0C5CE',
                        'purple-nebula': '#6366F1',
                        'dark-slate': '#1E293B',
                        'soft-gray': '#F8FAFC'
                    },
                    fontFamily: {
                        'orbitron': ['Orbitron', 'monospace'],
                        'inter': ['Inter', 'sans-serif'],
                        'mono': ['JetBrains Mono', 'monospace']
                    }
                }
            }
        }
    </script>
    
    <style>
        body {
            background: linear-gradient(135deg, #0A0E1A 0%, #1E293B 50%, #0A0E1A 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .glass-morphism {
            background: rgba(30, 41, 59, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .cart-item {
            background: rgba(30, 41, 59, 0.4);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        
        .cart-item:hover {
            border-color: rgba(0, 212, 255, 0.3);
            box-shadow: 0 8px 25px rgba(0, 212, 255, 0.1);
        }
        
        .quantity-btn {
            transition: all 0.2s ease;
        }
        
        .quantity-btn:hover {
            transform: scale(1.1);
        }
        
        .reveal-element {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease;
        }
        
        .revealed {
            opacity: 1;
            transform: translateY(0);
        }
        
        .checkout-step {
            opacity: 0.5;
            transition: all 0.3s ease;
        }
        
        .checkout-step.active {
            opacity: 1;
            color: #00D4FF;
        }
        
        .checkout-step.completed {
            opacity: 1;
            color: #10B981;
        }
        
        #p5-background {
            position: fixed;
            top: 0;
            left: 0;
            z-index: -1;
        }
        
        .ai-suggestion {
            animation: slideInRight 0.5s ease-out;
        }
        
        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        .pulse-glow {
            animation: pulse-glow 2s ease-in-out infinite alternate;
        }
        
        @keyframes pulse-glow {
            from { box-shadow: 0 0 20px rgba(0, 212, 255, 0.3); }
            to { box-shadow: 0 0 30px rgba(0, 212, 255, 0.6); }
        }
    </style>
</head>
<body class="font-inter text-silver-chrome">
    <!-- P5.js Background Canvas -->
    <div id="p5-background"></div>
    
    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 glass-morphism">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-gradient-to-r from-electric-blue to-purple-nebula rounded-lg flex items-center justify-center">
                        <span class="text-white font-orbitron font-bold text-sm">SF</span>
                    </div>
                    <span class="text-xl font-orbitron font-bold text-white">Smart Futuristic E-commerce</span>
                </div>
                
                <div class="hidden md:flex items-center space-x-8">
                    <a href="index.html" class="text-silver-chrome hover:text-electric-blue transition-colors">Home</a>
                    <a href="products.html" class="text-silver-chrome hover:text-electric-blue transition-colors">Products</a>
                    <a href="cart.html" class="text-electric-blue font-medium hover:text-white transition-colors">Cart</a>
                    <a href="profile.html" class="text-silver-chrome hover:text-electric-blue transition-colors">Profile</a>
                </div>
                
                <div class="flex items-center space-x-4">
                    <button class="relative text-electric-blue">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.5 6M7 13l-1.5 6m0 0h9"></path>
                        </svg>
                        <span class="absolute -top-2 -right-2 bg-electric-blue text-white text-xs rounded-full w-5 h-5 flex items-center justify-center" id="cart-count">0</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>
    
    <!-- Header Section -->
    <section class="pt-32 pb-12 relative">
        <div class="max-w-7xl mx-auto px-6">
            <div class="text-center mb-12 reveal-element">
                <h1 class="text-5xl font-orbitron font-bold text-white mb-4">Smart Shopping Cart</h1>
                <p class="text-xl text-silver-chrome max-w-2xl mx-auto">
                    Review your selected products with AI-powered recommendations and intelligent insights.
                </p>
            </div>
            
            <!-- Checkout Progress -->
            <div class="flex items-center justify-center space-x-8 mb-12 reveal-element">
                <div class="flex items-center space-x-2 checkout-step active">
                    <div class="w-8 h-8 bg-electric-blue rounded-full flex items-center justify-center text-white font-bold text-sm">1</div>
                    <span class="font-medium">Cart Review</span>
                </div>
                <div class="w-16 h-1 bg-gray-600"></div>
                <div class="flex items-center space-x-2 checkout-step">
                    <div class="w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center text-white font-bold text-sm">2</div>
                    <span>Shipping Info</span>
                </div>
                <div class="w-16 h-1 bg-gray-600"></div>
                <div class="flex items-center space-x-2 checkout-step">
                    <div class="w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center text-white font-bold text-sm">3</div>
                    <span>Payment</span>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Main Content -->
    <section class="pb-20">
        <div class="max-w-7xl mx-auto px-6">
            <div class="grid lg:grid-cols-3 gap-8">
                <!-- Cart Items -->
                <div class="lg:col-span-2">
                    <div class="glass-morphism p-6 rounded-2xl reveal-element">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-2xl font-orbitron font-bold text-white">Your Items</h2>
                            <button id="clear-cart" class="text-silver-chrome hover:text-red-400 transition-colors">
                                Clear All
                            </button>
                        </div>
                        
                        <div id="cart-items" class="space-y-4">
                            <!-- Cart items will be dynamically loaded here -->
                        </div>
                        
                        <div id="empty-cart" class="text-center py-12 hidden">
                            <svg class="w-16 h-16 text-gray-600 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.5 6M7 13l-1.5 6m0 0h9"></path>
                            </svg>
                            <h3 class="text-xl font-semibold text-white mb-2">Your cart is empty</h3>
                            <p class="text-silver-chrome mb-6">Add some amazing products to get started!</p>
                            <a href="products.html" class="bg-electric-blue text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-600 transition-colors">
                                Browse Products
                            </a>
                        </div>
                    </div>
                    
                    <!-- AI Recommendations -->
                    <div class="glass-morphism p-6 rounded-2xl mt-8 reveal-element">
                        <div class="flex items-center space-x-3 mb-6">
                            <div class="w-3 h-3 bg-electric-blue rounded-full animate-pulse"></div>
                            <h3 class="text-xl font-orbitron font-bold text-white">AI Recommendations</h3>
                        </div>
                        
                        <div id="ai-recommendations" class="space-y-4">
                            <!-- AI recommendations will be loaded here -->
                        </div>
                    </div>
                </div>
                
                <!-- Order Summary & Checkout -->
                <div class="lg:col-span-1">
                    <div class="glass-morphism p-6 rounded-2xl sticky top-32 reveal-element">
                        <h3 class="text-xl font-orbitron font-bold text-white mb-6">Order Summary</h3>
                        
                        <!-- Price Breakdown -->
                        <div class="space-y-4 mb-6">
                            <div class="flex justify-between">
                                <span class="text-silver-chrome">Subtotal</span>
                                <span class="text-white font-medium" id="subtotal">$0.00</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-silver-chrome">Shipping</span>
                                <span class="text-white font-medium" id="shipping">Free</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-silver-chrome">Tax</span>
                                <span class="text-white font-medium" id="tax">$0.00</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-silver-chrome">AI Discount</span>
                                <span class="text-green-400 font-medium" id="discount">-$0.00</span>
                            </div>
                            <hr class="border-gray-600">
                            <div class="flex justify-between text-lg">
                                <span class="text-white font-semibold">Total</span>
                                <span class="text-electric-blue font-bold" id="total">$0.00</span>
                            </div>
                        </div>
                        
                        <!-- Discount Code -->
                        <div class="mb-6">
                            <div class="flex space-x-2">
                                <input type="text" id="discount-code" placeholder="Enter discount code" 
                                       class="flex-1 bg-dark-slate text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-electric-blue">
                                <button id="apply-discount" class="bg-electric-blue text-white px-4 py-3 rounded-lg hover:bg-blue-600 transition-colors">
                                    Apply
                                </button>
                            </div>
                            <div id="discount-message" class="mt-2 text-sm hidden"></div>
                        </div>
                        
                        <!-- Smart Insights -->
                        <div class="mb-6 p-4 bg-dark-slate rounded-lg">
                            <h4 class="text-white font-medium mb-2">Smart Insights</h4>
                            <div id="smart-insights" class="text-sm text-silver-chrome space-y-1">
                                <!-- Smart insights will be loaded here -->
                            </div>
                        </div>
                        
                        <!-- Checkout Button -->
                        <button id="checkout-btn" class="w-full bg-electric-blue text-white py-4 rounded-lg font-semibold hover:bg-blue-600 transition-all duration-300 pulse-glow disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            Proceed to Checkout
                        </button>
                        
                        <!-- Security Badges -->
                        <div class="flex items-center justify-center space-x-4 mt-4 text-xs text-silver-chrome">
                            <div class="flex items-center space-x-1">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/>
                                </svg>
                                <span>Secure Checkout</span>
                            </div>
                            <div class="flex items-center space-x-1">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                                <span>SSL Protected</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Checkout Modal -->
    <div id="checkout-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="glass-morphism max-w-2xl w-full max-h-[90vh] overflow-y-auto rounded-2xl">
            <div class="p-8">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="text-2xl font-orbitron font-bold text-white">Smart Checkout</h3>
                    <button id="close-checkout" class="text-silver-chrome hover:text-white">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                
                <!-- Checkout Form -->
                <form id="checkout-form" class="space-y-6">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-white font-medium mb-2">First Name</label>
                            <input type="text" class="w-full bg-dark-slate text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-electric-blue" required>
                        </div>
                        <div>
                            <label class="block text-white font-medium mb-2">Last Name</label>
                            <input type="text" class="w-full bg-dark-slate text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-electric-blue" required>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-white font-medium mb-2">Email Address</label>
                        <input type="email" class="w-full bg-dark-slate text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-electric-blue" required>
                    </div>
                    
                    <div>
                        <label class="block text-white font-medium mb-2">Shipping Address</label>
                        <input type="text" class="w-full bg-dark-slate text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-electric-blue" placeholder="123 Main Street" required>
                    </div>
                    
                    <div class="grid md:grid-cols-3 gap-6">
                        <div>
                            <label class="block text-white font-medium mb-2">City</label>
                            <input type="text" class="w-full bg-dark-slate text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-electric-blue" required>
                        </div>
                        <div>
                            <label class="block text-white font-medium mb-2">State</label>
                            <select class="w-full bg-dark-slate text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-electric-blue" required>
                                <option value="">Select State</option>
                                <option value="CA">California</option>
                                <option value="NY">New York</option>
                                <option value="TX">Texas</option>
                                <option value="FL">Florida</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-white font-medium mb-2">ZIP Code</label>
                            <input type="text" class="w-full bg-dark-slate text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-electric-blue" required>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-white font-medium mb-2">Payment Method</label>
                        <div class="space-y-3">
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="radio" name="payment" value="card" class="text-electric-blue" checked>
                                <span class="text-white">Credit/Debit Card</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="radio" name="payment" value="paypal" class="text-electric-blue">
                                <span class="text-white">PayPal</span>
                            </label>
                            <label class="flex items-center space-x-3 cursor-pointer">
                                <input type="radio" name="payment" value="crypto" class="text-electric-blue">
                                <span class="text-white">Cryptocurrency</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-4 pt-6">
                        <button type="button" id="cancel-checkout" class="flex-1 bg-gray-600 text-white py-3 rounded-lg font-semibold hover:bg-gray-700 transition-colors">
                            Cancel
                        </button>
                        <button type="submit" class="flex-1 bg-electric-blue text-white py-3 rounded-lg font-semibold hover:bg-blue-600 transition-colors pulse-glow">
                            Complete Order
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer class="py-12 border-t border-gray-800">
        <div class="max-w-7xl mx-auto px-6">
            <div class="text-center">
                <div class="flex items-center justify-center space-x-2 mb-4">
                    <div class="w-8 h-8 bg-gradient-to-r from-electric-blue to-purple-nebula rounded-lg flex items-center justify-center">
                        <span class="text-white font-orbitron font-bold text-sm">SF</span>
                    </div>
                    <span class="text-xl font-orbitron font-bold text-white">Smart Futuristic E-commerce</span>
                </div>
                <p class="text-silver-chrome mb-4">The Future of Smart Living</p>
                <p class="text-sm text-soft-gray">© 2025 Smart Futuristic E-commerce. All rights reserved. Pioneering the future of technology.</p>
            </div>
        </div>
    </footer>
    
    <script src="main.js"></script>
    <script>
        // Cart page specific functionality
        class CartPage {
            constructor() {
                this.cart = JSON.parse(localStorage.getItem('neoshop-cart')) || [];
                this.discountCodes = {
                    'SMART2025': 0.1,
                    'TECHLOVER': 0.15,
                    'FUTURE10': 0.1,
                    'AIASSIST': 0.2
                };
                this.appliedDiscount = 0;
                this.init();
            }
            
            init() {
                this.renderCartItems();
                this.updateOrderSummary();
                this.initAIRecommendations();
                this.initCheckout();
                this.initDiscountCode();
                this.initSmartInsights();
                this.initClearCart();
            }
            
            renderCartItems() {
                const container = document.getElementById('cart-items');
                const emptyCart = document.getElementById('empty-cart');
                
                if (this.cart.length === 0) {
                    container.innerHTML = '';
                    emptyCart.classList.remove('hidden');
                    return;
                }
                
                emptyCart.classList.add('hidden');
                container.innerHTML = '';
                
                this.cart.forEach((item, index) => {
                    const cartItem = this.createCartItem(item, index);
                    container.appendChild(cartItem);
                });
            }
            
            createCartItem(item, index) {
                const productData = this.getProductData(item.id);
                const div = document.createElement('div');
                div.className = 'cart-item p-4 rounded-xl flex items-center space-x-4';
                
                div.innerHTML = `
                    <img src="${productData.image}" alt="${productData.name}" class="w-20 h-20 object-cover rounded-lg">
                    <div class="flex-1">
                        <h4 class="text-white font-semibold mb-1">${productData.name}</h4>
                        <p class="text-sm text-silver-chrome mb-2">${productData.description}</p>
                        <div class="flex items-center space-x-4">
                            <div class="flex items-center space-x-2">
                                <button class="quantity-btn w-8 h-8 bg-dark-slate rounded-full flex items-center justify-center text-white hover:bg-electric-blue" 
                                        data-action="decrease" data-index="${index}">-</button>
                                <span class="text-white font-medium w-8 text-center">${item.quantity}</span>
                                <button class="quantity-btn w-8 h-8 bg-dark-slate rounded-full flex items-center justify-center text-white hover:bg-electric-blue" 
                                        data-action="increase" data-index="${index}">+</button>
                            </div>
                            <span class="text-electric-blue font-bold">$${(productData.price * item.quantity).toFixed(2)}</span>
                        </div>
                    </div>
                    <button class="text-red-400 hover:text-red-300 transition-colors p-2" data-action="remove" data-index="${index}">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                        </svg>
                    </button>
                `;
                
                // Add event listeners
                div.addEventListener('click', (e) => {
                    const targetButton = e.target.closest('[data-action]');
                    
                    if (!targetButton) {
                        return;
                    }
                    
                    const action = targetButton.dataset.action;
                    const index = parseInt(targetButton.dataset.index, 10);
                    
                    if (Number.isNaN(index)) {
                        return;
                    }
                    
                    if (action === 'increase') {
                        this.updateQuantity(index, 1);
                    } else if (action === 'decrease') {
                        this.updateQuantity(index, -1);
                    } else if (action === 'remove') {
                        this.removeItem(index);
                    }
                });
                
                return div;
            }
            
            updateQuantity(index, change) {
                if (index >= 0 && index < this.cart.length) {
                    this.cart[index].quantity += change;
                    
                    if (this.cart[index].quantity <= 0) {
                        this.cart.splice(index, 1);
                    }
                    
                    localStorage.setItem('neoshop-cart', JSON.stringify(this.cart));
                    this.renderCartItems();
                    this.updateOrderSummary();
                    this.updateCartCount();
                }
            }
            
            removeItem(index) {
                if (index >= 0 && index < this.cart.length) {
                    this.cart.splice(index, 1);
                    localStorage.setItem('neoshop-cart', JSON.stringify(this.cart));
                    this.renderCartItems();
                    this.updateOrderSummary();
                    this.updateCartCount();
                }
            }
            
            updateOrderSummary() {
                const subtotal = this.cart.reduce((sum, item) => {
                    const productData = this.getProductData(item.id);
                    return sum + (productData.price * item.quantity);
                }, 0);
                
                const tax = subtotal * 0.08; // 8% tax
                const discountAmount = subtotal * this.appliedDiscount;
                const total = subtotal + tax - discountAmount;
                
                document.getElementById('subtotal').textContent = `$${subtotal.toFixed(2)}`;
                document.getElementById('tax').textContent = `$${tax.toFixed(2)}`;
                document.getElementById('discount').textContent = `-$${discountAmount.toFixed(2)}`;
                document.getElementById('total').textContent = `$${total.toFixed(2)}`;
                
                // Enable/disable checkout button
                const checkoutBtn = document.getElementById('checkout-btn');
                if (this.cart.length > 0) {
                    checkoutBtn.disabled = false;
                    checkoutBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                } else {
                    checkoutBtn.disabled = true;
                    checkoutBtn.classList.add('opacity-50', 'cursor-not-allowed');
                }
            }
            
            initDiscountCode() {
                const applyBtn = document.getElementById('apply-discount');
                const input = document.getElementById('discount-code');
                const message = document.getElementById('discount-message');
                
                this.discountApplyBtn = applyBtn;
                this.discountInput = input;
                this.discountMessage = message;
                
                applyBtn.addEventListener('click', () => {
                    const code = input.value.trim().toUpperCase();
                    
                    if (this.discountCodes[code]) {
                        this.appliedDiscount = this.discountCodes[code];
                        message.textContent = `Discount applied! ${(this.appliedDiscount * 100)}% off`;
                        message.className = 'mt-2 text-sm text-green-400';
                        message.classList.remove('hidden');
                        input.disabled = true;
                        applyBtn.textContent = 'Applied';
                        applyBtn.disabled = true;
                    } else {
                        message.textContent = 'Invalid discount code';
                        message.className = 'mt-2 text-sm text-red-400';
                        message.classList.remove('hidden');
                    }
                    
                    this.updateOrderSummary();
                });
                
                input.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        applyBtn.click();
                    }
                });
            }
            
            initAIRecommendations() {
                const container = document.getElementById('ai-recommendations');
                const recommendations = [
                    {
                        name: 'Smart Ring Charger',
                        price: 49,
                        reason: 'Essential accessory for your Aura Smart Ring',
                        image: 'https://kimi-web-img.moonshot.cn/img/upload.wikimedia.org/cd6ff13e74fe7253f7114b137acf95f3449e28f6.jpg'
                    },
                    {
                        name: 'AR Glasses Case',
                        price: 79,
                        reason: 'Protective case for your Vision AR Glasses',
                        image: 'https://kimi-web-img.moonshot.cn/img/www.pqdesign.com/5cfa113eef2c5b3894feeee7fb45242b52e65662.jpg'
                    },
                    {
                        name: 'Wireless Charging Pad',
                        price: 39,
                        reason: 'Fast charging for all your devices',
                        image: 'https://kimi-web-img.moonshot.cn/img/cdnp2.stackassets.com/227cfba9e3752e21b2b7735e2edf26fec96e599f.jpg'
                    }
                ];
                
                container.innerHTML = '';
                
                recommendations.forEach((rec, index) => {
                    const item = document.createElement('div');
                    item.className = 'ai-suggestion flex items-center space-x-4 p-4 glass-morphism rounded-lg';
                    
                    item.innerHTML = `
                        <img src="${rec.image}" alt="${rec.name}" class="w-12 h-12 object-cover rounded-lg">
                        <div class="flex-1">
                            <h5 class="text-white font-medium">${rec.name}</h5>
                            <p class="text-xs text-silver-chrome">${rec.reason}</p>
                            <span class="text-electric-blue font-bold text-sm">$${rec.price}</span>
                        </div>
                        <button class="add-recommendation bg-electric-blue text-white px-3 py-2 rounded-lg hover:bg-blue-600 transition-colors text-sm" 
                                data-product="${rec.name.toLowerCase().replace(/\s+/g, '-')}" data-price="${rec.price}">
                            Add
                        </button>
                    `;
                    
                    container.appendChild(item);
                    
                    // Add event listener
                    item.addEventListener('click', (e) => {
                        if (e.target.classList.contains('add-recommendation')) {
                            this.addToCart(e.target.dataset.product, parseFloat(e.target.dataset.price));
                            e.target.textContent = 'Added!';
                            e.target.disabled = true;
                            setTimeout(() => {
                                e.target.textContent = 'Add';
                                e.target.disabled = false;
                            }, 2000);
                        }
                    });
                });
            }
            
            initSmartInsights() {
                const container = document.getElementById('smart-insights');
                const insights = [
                    'Free shipping on orders over $200',
                    'Bundle discount available',
                    '30-day return policy',
                    '2-year warranty included'
                ];
                
                container.innerHTML = insights.map(insight => `
                    <div class="flex items-center space-x-2">
                        <svg class="w-3 h-3 text-green-400" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        <span>${insight}</span>
                    </div>
                `).join('');
            }
            
            initCheckout() {
                const checkoutBtn = document.getElementById('checkout-btn');
                const modal = document.getElementById('checkout-modal');
                const closeBtn = document.getElementById('close-checkout');
                const cancelBtn = document.getElementById('cancel-checkout');
                const form = document.getElementById('checkout-form');
                
                checkoutBtn.addEventListener('click', () => {
                    modal.classList.remove('hidden');
                    anime({
                        targets: modal.querySelector('.glass-morphism'),
                        scale: [0.8, 1],
                        opacity: [0, 1],
                        duration: 400,
                        easing: 'easeOutQuart'
                    });
                });
                
                closeBtn.addEventListener('click', () => {
                    modal.classList.add('hidden');
                });
                
                cancelBtn.addEventListener('click', () => {
                    modal.classList.add('hidden');
                });
                
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        modal.classList.add('hidden');
                    }
                });
                
                form.addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.processCheckout();
                });
            }
            
            processCheckout() {
                // Simulate order processing
                const modal = document.getElementById('checkout-modal');
                const submitBtn = modal.querySelector('button[type="submit"]');
                
                submitBtn.textContent = 'Processing...';
                submitBtn.disabled = true;
                
                setTimeout(() => {
                    modal.classList.add('hidden');
                    this.showSuccessMessage();
                    this.cart = [];
                    localStorage.setItem('neoshop-cart', JSON.stringify(this.cart));
                    this.renderCartItems();
                    this.updateOrderSummary();
                    this.updateCartCount();
                }, 3000);
            }
            
            showSuccessMessage() {
                const message = document.createElement('div');
                message.className = 'fixed top-32 right-8 glass-morphism p-6 rounded-xl z-50 max-w-sm';
                message.innerHTML = `
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
                            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                        </div>
                        <span class="text-white font-semibold">Order Confirmed!</span>
                    </div>
                    <p class="text-silver-chrome text-sm mb-4">Thank you for your purchase. Your order has been successfully placed.</p>
                    <button class="text-electric-blue text-sm hover:text-white transition-colors">Track Order →</button>
                `;
                
                document.body.appendChild(message);
                
                anime({
                    targets: message,
                    translateX: [300, 0],
                    opacity: [0, 1],
                    duration: 600,
                    easing: 'easeOutQuart'
                });
                
                setTimeout(() => {
                    anime({
                        targets: message,
                        translateX: 300,
                        opacity: 0,
                        duration: 400,
                        complete: () => message.remove()
                    });
                }, 5000);
            }
            
            addToCart(productId, price) {
                const existingItem = this.cart.find(item => item.id === productId);
                
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    this.cart.push({
                        id: productId,
                        price: price,
                        quantity: 1
                    });
                }
                
                localStorage.setItem('neoshop-cart', JSON.stringify(this.cart));
                this.renderCartItems();
                this.updateOrderSummary();
                this.updateCartCount();
            }
            
            updateCartCount() {
                const totalItems = this.cart.reduce((sum, item) => sum + item.quantity, 0);
                const cartCountEl = document.getElementById('cart-count');
                if (cartCountEl) {
                    cartCountEl.textContent = totalItems;
                }
            }
            
            initClearCart() {
                const clearBtn = document.getElementById('clear-cart');
                
                if (!clearBtn) return;
                
                clearBtn.addEventListener('click', () => {
                    if (this.cart.length === 0) {
                        return;
                    }
                    
                    this.clearCart();
                });
            }
            
            clearCart() {
                this.cart = [];
                this.appliedDiscount = 0;
                
                localStorage.setItem('neoshop-cart', JSON.stringify(this.cart));
                
                this.renderCartItems();
                this.updateOrderSummary();
                this.updateCartCount();
                this.resetDiscountUI();
            }
            
            resetDiscountUI() {
                if (this.discountInput) {
                    this.discountInput.disabled = false;
                    this.discountInput.value = '';
                }
                
                if (this.discountApplyBtn) {
                    this.discountApplyBtn.disabled = false;
                    this.discountApplyBtn.textContent = 'Apply';
                }
                
                if (this.discountMessage) {
                    this.discountMessage.className = 'mt-2 text-sm hidden';
                    this.discountMessage.textContent = '';
                }
            }
            
            getProductData(productId) {
                const products = {
                    'aura-ring': {
                        name: 'Aura Smart Ring',
                        price: 299,
                        description: 'Advanced health monitoring in a sleek design',
                        image: 'https://kimi-web-img.moonshot.cn/img/upload.wikimedia.org/cd6ff13e74fe7253f7114b137acf95f3449e28f6.jpg'
                    },
                    'ar-glasses': {
                        name: 'Vision AR Glasses',
                        price: 899,
                        description: 'Immersive augmented reality experience',
                        image: 'https://kimi-web-img.moonshot.cn/img/www.pqdesign.com/5cfa113eef2c5b3894feeee7fb45242b52e65662.jpg'
                    },
                    'thermostat': {
                        name: 'EcoSmart Thermostat',
                        price: 249,
                        description: 'AI-powered climate control',
                        image: 'https://kimi-web-img.moonshot.cn/img/images.ctfassets.net/2818622e2e4042c0868d26aac755ec3bd7bbdcef7.jpg'
                    },
                    'health-monitor': {
                        name: 'VitalTrack Pro',
                        price: 399,
                        description: 'Advanced health monitoring',
                        image: 'https://kimi-web-img.moonshot.cn/img/www.microcontrollertips.com/2c3f5b5f7f0b4cf8fa9b889ed4394e3ea90dfaa7.jpg'
                    }
                };
                
                return products[productId] || {
                    name: 'Unknown Product',
                    price: 0,
                    description: 'Product description',
                    image: 'https://via.placeholder.com/150'
                };
            }
        }
        
        // Initialize cart page
        document.addEventListener('DOMContentLoaded', () => {
            new CartPage();
        });
    </script>
</body>
</html>